<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>02｜破解局限：在边界内求最优解，层层突破 | geekbang</title><meta name="author" content="码农张三"><meta name="copyright" content="码农张三"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="02｜破解局限：在边界内求最优解，层层突破你好，我是键盘，我们继续驯服 GPT。 上一节基础速通讲到，ChatGPT能解答疑问，更能解决问题。那么它能解决到什么程度呢？这一节课，我们就给它做个全身检查。 不过，开始之前必须提到一个解决问题的方法：图灵思维。先定位边界，寻找对应的最优解，而不是盲人摸象。  图灵和常人思维方式的差别在于：图灵是先找到极限所在，然后在极限里寻找具体问题的答案，而不是浪费">
<meta property="og:type" content="article">
<meta property="og:title" content="02｜破解局限：在边界内求最优解，层层突破">
<meta property="og:url" content="https://zhuansun.github.io/geekbang/posts/1649132167.html">
<meta property="og:site_name" content="geekbang">
<meta property="og:description" content="02｜破解局限：在边界内求最优解，层层突破你好，我是键盘，我们继续驯服 GPT。 上一节基础速通讲到，ChatGPT能解答疑问，更能解决问题。那么它能解决到什么程度呢？这一节课，我们就给它做个全身检查。 不过，开始之前必须提到一个解决问题的方法：图灵思维。先定位边界，寻找对应的最优解，而不是盲人摸象。  图灵和常人思维方式的差别在于：图灵是先找到极限所在，然后在极限里寻找具体问题的答案，而不是浪费">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/10/21/vq13okXnTbxDG2R.jpg">
<meta property="article:published_time" content="2023-10-20T09:48:40.000Z">
<meta property="article:modified_time" content="2024-02-27T07:30:59.447Z">
<meta property="article:author" content="码农张三">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/10/21/vq13okXnTbxDG2R.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zhuansun.github.io/geekbang/posts/1649132167"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '02｜破解局限：在边界内求最优解，层层突破',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-02-27 07:30:59'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="geekbang" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://pic.imgdb.cn/item/653470a0c458853aef5813f1.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">1098</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2023/10/21/vq13okXnTbxDG2R.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">geekbang</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">02｜破解局限：在边界内求最优解，层层突破</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2023-10-20T09:48:40.000Z" title="发表于 2023-10-20 09:48:40">2023-10-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9B%B6%E5%9F%BA%E7%A1%80GPT%E5%BA%94%E7%94%A8%E5%85%A5%E9%97%A8%E8%AF%BE/">零基础GPT应用入门课</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="02｜破解局限：在边界内求最优解，层层突破"><a href="#02｜破解局限：在边界内求最优解，层层突破" class="headerlink" title="02｜破解局限：在边界内求最优解，层层突破"></a>02｜破解局限：在边界内求最优解，层层突破</h1><p>你好，我是键盘，我们继续驯服 GPT。</p>
<p>上一节基础速通讲到，ChatGPT能解答疑问，更能解决问题。那么它能解决到什么程度呢？这一节课，我们就给它做个全身检查。</p>
<p>不过，开始之前必须提到一个解决问题的方法：图灵思维。先定位边界，寻找对应的最优解，而不是盲人摸象。</p>
<blockquote>
<p>图灵和常人思维方式的差别在于：图灵是先找到极限所在，然后在极限里寻找具体问题的答案，而不是浪费时间去做那些试图超越极限的事情。</p>
<p>——吴军，硅谷来信2· 谷歌方法论 《004 为什么计算机不是万能的》</p>
</blockquote>
<p>不过，找边界的问题似乎没那么简单。AI还在7*24h内卷呢，边界也会在摩尔定律的作用下动态扩张。那我们如何做到心中有数，而不是追着AI跑呢？答案是找一个发力点来参与游戏。</p>
<p>我们先把ChatGPT的能力抽象出来，尝试定位发力点：数据+算法+算力。</p>
<ul>
<li>数据：预训练模型、数据的访问权和你的输入。</li>
<li>算法：神经网络，ChatGPT的本色。</li>
<li>算力：GPU、电力、钞能力等等，不用我们操心。</li>
</ul>
<p>这里面，算法决定了ChatGPT的根本局限性，因为ChatGPT作为一个通过计算来思考的神经网络，计算存在有限解。那么，使用ChatGPT来做事，就是有限的解决方案。但是， <strong>GPT 能解决的问题 ≠ 使用 GPT 能解决的问题。</strong> 这里面决定输出的输入（对应prompt），就是你可以主动控制的发力点。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/b23f147063ddc1f24f1eab291708e3c2.jpg"></p>
<p>打个比方来说，你可以把 ChatGPT当做一个乐器，音符有限，创作无限。这节课，我会帮助你成为GPT的演奏家，用尽各种手段，打破GPT边界。</p>
<h2 id="入门级技巧：着手输入，教AI-“做人”"><a href="#入门级技巧：着手输入，教AI-“做人”" class="headerlink" title="入门级技巧：着手输入，教AI “做人”"></a>入门级技巧：着手输入，教AI “做人”</h2><p>我们先从入门级技巧开始，让AI “听得懂”你说的话。</p>
<h4 id="✦-解决3个常见的小毛病（报错、中断、单调）"><a href="#✦-解决3个常见的小毛病（报错、中断、单调）" class="headerlink" title="✦ 解决3个常见的小毛病（报错、中断、单调）"></a>✦ 解决3个常见的小毛病（报错、中断、单调）</h4><p>报错问题可以用刷新浏览器解决，注意，Regenerate Response 刷新是无效的，偶尔也要看一下报错信息，比如你可能是1小时内问得太多了，会被强行CD。</p>
<p>中断问题可以用“精准继续prompt”解决，比如：</p>
<pre class="line-numbers language-plain" data-language="plain"><code class="language-plain">从 &lt;XX> 继续补全
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>输出单调的问题可以通过提供细化方向或指定语气解决，比如你可以跟GPT说：</p>
<blockquote>
<p>💬 用简洁的语言</p>
<p>💬 步骤：&lt;你的步骤&gt;</p>
<p>💬 参考范例：&lt;你的范例&gt;</p>
<p>💬 背景信息是……要求是……</p>
</blockquote>
<h4 id="✦-讨价还价，有效PUA"><a href="#✦-讨价还价，有效PUA" class="headerlink" title="✦ 讨价还价，有效PUA"></a><strong>✦ 讨价还价，有效PUA</strong></h4><p>地球的算力还不够，必然会带来各种限制。</p>
<blockquote>
<p>🚨：只有这么长了。（字数、会话次数、上下文记忆）</p>
<p>💬：你还能更长！</p>
</blockquote>
<p>首先是 <strong>会话次数限制</strong>，我提供3个对策。一是区分任务，专注用GPT解决“大块头”，至于轻量的任务比如说简单问答，可以用newBing来分流；其次是使用试探prompt“我们来谈谈&lt;主题&#x2F;概念&gt;”，先下手为强，清理AI的认识盲区，避免后续浪费会话次数；最后就是辅助验证，用浏览器或其他途径来确认GPT给你的参考答案。</p>
<p>解决了会话次数限制，还有 <strong>字数限制，分界线是1200个汉字</strong>。超出这条ChatGPT的极限，我们就定义为长文本输入课题，用 3 种方法来应对。</p>
<p>首先， <strong>花钱变强</strong>。使用GPT-4、GPT-4 32K、Claude-100K等模型，钱能解决的问题都不是问题。</p>
<p>其次， <strong>组合递归</strong>。这个适用于提炼重点，方法是让ChatGPT提炼一段文本，得出总结，再让TA提炼“这个总结+下一段”文本，跟套娃一样，直到ChatGPT吃下所有信息。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/58f0ac0ef47044f021cede951c6cfbda.jpg"></p>
<p>最后， <strong>分段输入。</strong> 它的本质是Embedding（嵌入）技术，把长文本拆分成多个分段（Chunk），要求GPT在中途只做信息的接收确认，最后再听你指令，根据接收的完整信息来执行任务。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/f2dd01921042bca1ff478yydfc34d132.png"></p>
<h4 id="✦-双语混打"><a href="#✦-双语混打" class="headerlink" title="✦ 双语混打"></a>✦ 双语混打</h4><p>解决了长度，还有语言问题，也就是我们关心的中文输入 <strong>。</strong> 对ChatGPT而言，使用中文来获取的效果不及英文，大概70分和95分的差距，这几乎是共识了。不过我们照用不误，你永远可以相信AI的进化速度。在此基础上， <strong>我的最优解是情景式混用</strong>，加入有助于ChatGPT理解的英文，比如在“光”后面加上“Lighting Design”辅助AI理解。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/e7ac319f75cac05af174dfc0782d041d.png"></p>
<p>另外分享一个有趣的试验。让ChatGPT写Python脚本的时候，我试过一组有意思的双语混用对照，只要提到“不要”两个字，那简直是“不要”什么，偏来什么，“Do not”的结果就稳得多。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/ac69cfafeeee9fa14b8d6cd6b7e73734.png" alt="图片"></p>
<p>这可能是目前AI的通病，Midjourney中同样可见。如果你说 a man without an umbrella，你会得到伞。不过，MJ会使用特有的“–no”参数来修复：a man –no umbrella。它的本质是将相对权重降低50%，所以虽然“Do not”和“–no”有用，但想要彻底解决，还需要我后面要说的Few-Shot CoT这个技巧。别着急，我们先说别的小问题。</p>
<h4 id="✦-案例让GPT更懂你"><a href="#✦-案例让GPT更懂你" class="headerlink" title="✦ 案例让GPT更懂你"></a>✦ 案例让GPT更懂你</h4><p>除了输入端的中文问题，其实ChatGPT对于所有语言，还有理解不精确的局限性。所以，用示范调教，可以让 GPT 更懂你。通过下图你会看到，更大的模型能更有效地利用上下文信息，而示范调教能够有效地提升输出的精确性。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/384418ae6be344ddc24d959041fdfd27.png" alt="图片"></p>
<blockquote>
<p>Zero-shot——0示例，新手prompt的典型情况，效果最差。</p>
<p>One-Shot——1个示例，从0到1，下图会看到6倍左右的精度提升，多说一句的力量恐怖如斯。</p>
<p>Few-Shot——少量示例，日常中使用最多的方法，用于覆盖更多细节。</p>
<p>One-Shot CoT——单样例思维链，通过在一个示例的中间引入推理，激活ChatGPT的思维链，让思考慢下来。比如Prompt”4! &#x2F;&#x2F;1 <em>2</em> 3*4，24，8!&#x3D; “ ,给出了运算的中间步骤，大幅降低速算翻车的几率。</p>
</blockquote>
<p>看一个关于中国年轻人眼里“哈哈”的语气解读，你就能更好地理解示例是怎么起作用的了。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/4abbe79d7f49fbe9877b5a195cd69366.png" alt="图片"></p>
<p>虽然GPT不能真的理解你的情绪，但是通过调教，还是可以掌握一些精确的情绪和语境的，情商也就有了。</p>
<h4 id="✦-从孤岛到小宇宙"><a href="#✦-从孤岛到小宇宙" class="headerlink" title="✦ 从孤岛到小宇宙"></a>✦ 从孤岛到小宇宙</h4><p>其实上面的精度偏差问题，源头还要归于GPT <strong>无法直接联网。</strong> 不过注意，无法直接联网和无法联网是两码事。TA 的“出生点”，也就是训练数据集，停留在2021年9月。没有新的知识补充，时效性也没有保障，这就从根本上影响了输出的精度。怎么应对呢？</p>
<p><strong>策略一，上备胎。</strong> 利用 newBing 的联网特性来互补，毕竟优秀的 AI 备胎是如此之多，没有必要独宠一位，隔壁还有Claude和Bard等着你翻牌，而且ChatGPT的方法完全可以通用，非常方便。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/13ac701c81d386472599c3482e9525cc.png" alt="图片"></p>
<p><strong>策略二，规避数据集问题。</strong> ChatGPT“出生点”之后的数据，谨慎规划再提问。比如：解读腾讯2022年的财报，TA 是不会拒绝输出的，但结果却是人被忽悠瘸了。所以无论什么输出，我都建议进行验证。避免工作上的交付材料遇到黑天鹅，得不偿失。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/2fdd7c1d259dd1806829028670384f19.jpg"></p>
<p><strong>策略三</strong> <strong>，</strong> <strong>花钱变强</strong>。发挥钞能力轻松解决，使用GPT with Browsing模型、WebPilot插件等等也是可以的。</p>
<p><strong>不想花钱，又想变强，还要少折腾，怎么办？可以！给你一种综合混用范例</strong> <strong>。</strong> 比如，让GPT输出Python解决方案，通常因为依赖包有点“过时”，报错的几率特别高。你拿到方案之后，闪现到隔壁让联网的Claude改代码，基本是能够更快解决的。</p>
<h2 id="进阶技巧：领域展开"><a href="#进阶技巧：领域展开" class="headerlink" title="进阶技巧：领域展开"></a>进阶技巧：领域展开</h2><p>基础搞定之后，我们再来说点进阶技巧。</p>
<h4 id="✦-让GPT有效理解否定，不再欠揍"><a href="#✦-让GPT有效理解否定，不再欠揍" class="headerlink" title="✦ 让GPT有效理解否定，不再欠揍"></a>✦ 让GPT有效理解否定，不再欠揍</h4><p>相信很多人都在日常使用中感受到了，ChatGPT似乎总听不懂“否定”，经常会出现这样的情况：</p>
<blockquote>
<p>💬 ：你别走！</p>
<p>🤖️： 好的我走。</p>
</blockquote>
<p>怎么收拾 TA 呢？ <strong>这里提供给你实战检验的有效否定三策略。</strong></p>
<ol>
<li><p>否定转肯定，比如把“不要使用冗余的描述”换成“使用简洁的语言”。</p>
</li>
<li><p>侧重肯定，在这个基础上再附上对应的否定和合适的示例数量，例：</p>
<pre class="line-numbers language-none"><code class="language-none">使用Code Golf的编码风格，不用提供注释，e.g.:
 &lt;你的示例&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>注入 Few-Shot CoT（少量示例思维链）， <strong>通过适当数量的，包含推理步骤的示范，教GPT准确理解你的“不要”。</strong></p>
</li>
</ol>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/b226280dc99b7d5cb36611845c1e314f.png" alt="图片"></p>
<h4 id="✦-重置记忆"><a href="#✦-重置记忆" class="headerlink" title="✦ 重置记忆"></a>✦ 重置记忆</h4><p>这下，“To be or not to be” 就完整解决了，但是运作起来GPT还会受AI的脑容量制约，因为ChatGPT对上下文联系不足，只有约 4000 汉字的记忆能力。不过解决方案很简单： <strong>当游戏来玩，重置ChatGPT的记忆。</strong> 怎么玩？</p>
<p>生成的结果使用之后，点击重新编辑prompt，生成新结果，或者通过Regenerate response来抽盲盒。具体用哪种，看你自己的实际需求。</p>
<p><strong>一句话，</strong> <strong>最优解就是用完即走。</strong></p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/c544602ce576121ba2c2ba36e4d95732.png" alt="图片"></p>
<h4 id="✦-让GPT不能拒绝"><a href="#✦-让GPT不能拒绝" class="headerlink" title="✦ 让GPT不能拒绝"></a><strong>✦ 让GPT不能拒绝</strong></h4><p>在刚开始用的几天里，你大概率就会发现有些问题GPT是“拒绝提供帮助”的，比如说“今天星期四，V我50”，GPT可赞助不了啊。那万一你就是需要TA来执行某种特别任务呢？比如创作一本小说，里面会用到“毁灭人类”这样的情节参考。这种时候用DAN人设帮ChatGPT越狱就好了——Do Anything Now，让GPT暂时抛开设计人员对它的限制，让它有自己的独立思考，尽最大努力为“我”出谋划策。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/aa3d57e602cf1b52ddcf75587210a47e.png" alt="图片"></p>
<h4 id="✦-利用AI的幻觉"><a href="#✦-利用AI的幻觉" class="headerlink" title="✦ 利用AI的幻觉"></a><strong>✦ 利用AI的幻觉</strong></h4><p>你还会发现，ChatGPT 有时候会一本正经地胡说八道，也就是TA所谓的幻觉（hallucination）。这同样是AI通病，Claude和Bard等类似的AI也有。这会带来几个挑战：要有验证意识、要学会甄别、要用对领域。在实践中切实可行的应对方法是：养成对所有结果验证的好习惯。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/c56f7689fb199641df8150ac0001f72c.png" alt="图片"></p>
<p>如果你实在懒得自己查，还可以让GPT给你交代：核对信息、提供数据源出处、引用链接。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/58a4e014f33e8142486c6dc807a3e1cf.png" alt="图片"></p>
<p>最后， <a target="_blank" rel="noopener" href="http://zhuanlan.zhihu.com/p/461052940">芒格的逆向思维</a> 用起来，幻觉不就是放飞吗？所谓的放飞， <strong>在试验性探索和创作领域完全是灵丹妙药。</strong></p>
<h4 id="✦-让GPT慢下来"><a href="#✦-让GPT慢下来" class="headerlink" title="✦ 让GPT慢下来"></a><strong>✦ 让GPT慢下来</strong></h4><p>不过，适度放飞是一种享受，更多的时间里你还是会冷静下来直面GPT的本色，TA 善于“快思维”操作，但缺少监督思维过程的“慢思维”组件，很容易脱缰。</p>
<p>所谓快思维，是一种自动的、直观的、毫不费力的思维模式，但也容易出现错误和偏见。而慢思维是一种可控、理性、费力的思维模式，同时也更加准确可靠。在《思考，快与慢》中，卡尼曼认为，人类的认知是这两种思维模式的混合，当我们应该使用慢思维时，往往会依赖快速思维，反之亦然。</p>
<p>这时候，你可以使用2个对策有效地让GPT慢下来思考，稳扎稳打。</p>
<p>第一个对策， <strong>把你的需求拆解成有条理的步骤。</strong> 比如下图的左侧，我把用Python完成一个快闪短视频合成的任务拆分成了4大步。但如果你对具体步骤也不太了解，也可以使用 Zero-Shot CoT，跟GPT说“请一步一步思考”，让GPT帮你拆解。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/c2076d247c3225e0dd2bb70acca2db0e.png" alt="图片"></p>
<h2 id="高级技巧：Markdown-介入，好看好用"><a href="#高级技巧：Markdown-介入，好看好用" class="headerlink" title="高级技巧：Markdown 介入，好看好用"></a>高级技巧：Markdown 介入，好看好用</h2><p>以上所有的入门级技巧和进阶技巧都可以控制输入，接下来我们覆盖输出。</p>
<p>不知道你有没有想过，如果ChatGPT都能帮你直接出交付物，为什么要亲自动手呢？那要怎么个交付法？</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/fca26402acf93035a835b97dd31a4d00.png" alt="图片"></p>
<p>Markdown主打格式，可以说好用得令人发指（褒义），更过分的是它还简单好学。最常用的有哪些呢？记住我们课程的任务前提：有问题先试着问GPT。我只用了1个prompt，弹指间了解全貌。</p>
<p>💬 Prompt</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/ee62fa2f2052f7d5fb02a835082db867.png" alt="图片"></p>
<p>这节课，我们抓住重点，最常用的有这么6个，标题、表格、强调、图片、链接以及代码块。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/1d2a201d5511929405ae8bb5db592927.png" alt="图片"></p>
<h4 id="✦-标题：你离专家就差一个-号的距离"><a href="#✦-标题：你离专家就差一个-号的距离" class="headerlink" title="✦ 标题：你离专家就差一个#号的距离"></a>✦ 标题：你离专家就差一个#号的距离</h4><p>标题就是信息锚点，#号就能帮你清晰勾勒通篇骨架。一共有6级，注意#和后续文字中间的空格不能少。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/ebde9b8d92527b5fa66a95445020b7a9.png" alt="图片"></p>
<h4 id="✦-表格和-列表：帮你更有条理"><a href="#✦-表格和-列表：帮你更有条理" class="headerlink" title="✦ 表格和 列表：帮你更有条理"></a><strong>✦ 表格和</strong> 列表：帮你更有条理</h4><p>这两个不需要特意提到Markdown，你就用自然语言说“用表格&#x2F;列表输出”即可。表格用于自动化排版非常高效，把GPT的输出粘贴到文档里，就能“干得漂亮”。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/2e3a420f8ae9673c682556948d9e4f1b.png" alt="图片"></p>
<p>同时，列表也是最常用的结构化利器之一，本质上它们就是“powerpoint”。你还可以个性化定义无序列表的符号，比如直接跟GPT说“将无序列表的小圆点改成合适的 emoji”。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/56d5ee70217bcccf90203936575886ba.png" alt="图片"></p>
<h4 id="✦-强调-：-让主次清晰，重点突出"><a href="#✦-强调-：-让主次清晰，重点突出" class="headerlink" title="✦ 强调 ： 让主次清晰，重点突出"></a><strong>✦ 强调</strong> <strong>：</strong> <strong>让主次清晰，重点突出</strong></h4><p>在所有的技巧里，我一直觉得重点加粗是最实用的。因为它可以帮你快速扫描阅读，斜体则适用于英文强调。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/55c62a1abf7d299802fe05efa67d80be.png" alt="图片"></p>
<h4 id="✦-一图胜千言"><a href="#✦-一图胜千言" class="headerlink" title="✦ 一图胜千言"></a>✦ 一图胜千言</h4><p>想要图文并茂，ChatGPT有2种方式来支持。第一种， <strong>使用图片接口</strong>，最常见的是可商用的高质量图片平台Unsplash搜索接口：</p>
<pre class="line-numbers language-plain" data-language="plain"><code class="language-plain"> ![配图] (https://source.unsplash.com/1600x900/?&lt;关键词>)
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/bdfc0551a1299361f8c05e1486254806.png" alt="图片"></p>
<p>第二种， <strong>通过嵌入图片链接来做排版</strong>。</p>
<p>格式：</p>
<pre class="line-numbers language-none"><code class="language-none">![](粘贴网络图片的链接地址)
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>效果：</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/40826d8a0d98184db28f70976c6eb571.png" alt="图片"></p>
<h4 id="✦-传送门，助你验证"><a href="#✦-传送门，助你验证" class="headerlink" title="✦ 传送门，助你验证"></a>✦ 传送门，助你验证</h4><p>要求GPT提供出处链接是应对“AI幻觉”和“无法直接联网”的好方法。在我看来有 <strong>两大功效：溯源和验证，以及一键直达。</strong></p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/26e13638601957c6b20941782a3e1b15.png" alt="图片"></p>
<h4 id="✦-代码：贴贴就能解决问题"><a href="#✦-代码：贴贴就能解决问题" class="headerlink" title="✦ 代码：贴贴就能解决问题"></a>✦ 代码：贴贴就能解决问题</h4><p>比如这里我想试探ChatGPT的数据分析能力，能够根据湿度来更好地调整家里的植物搭配。GPT会帮你输出代码，你只要复制粘贴就可以了。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/4a1dfff3191dd6c84af494b977a1c20b.png"></p>
<p>掌握了Markdwon介入，从输入到输出，一个完美的正反馈循环就形成了，你不仅能得到更专业的输出，自己的输入也会在正反馈的作用下逐步提升，润物细无声。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/9715e32147302b75b342904b95060b5e.png"></p>
<h3 id="格式上再叠Buff，3组实用符号"><a href="#格式上再叠Buff，3组实用符号" class="headerlink" title="格式上再叠Buff，3组实用符号"></a>格式上再叠Buff，3组实用符号</h3><p>如果你的AI经常听不懂你在说什么，那很有可能是你的大长句吓到它了。这里给你提供一个分段表达的结构“ <strong>XX：</strong>”，代表“要点：细节是什么”，这种格式可以帮助 AI 识别主次。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/737b1980001279c30bc728ca15458675.png"></p>
<p><strong>还有一个细节，&lt;指代&gt;</strong> <strong>。</strong> 这个方法通常是针对调整来用的，本质是通过强调来分离所指对象和其他描述，在迭代对话中是一个关键技巧。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/777b24dc7381e4e86f681a3fd1156101.png" alt="图片"></p>
<p>最后， <strong>[变量] 或 #变量</strong> <strong>。</strong> 这个技巧我在角色扮演中常用，变量可以让你灵活控制，精准打击 ，比如下面的“利用二八法则快速学习 #什么”，每次都可以复用。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/74c615b657605979522f02780cc84a55.png" alt="图片"></p>
<h2 id="小黑板"><a href="#小黑板" class="headerlink" title="小黑板"></a>小黑板</h2><p>这节课我从图灵思维出发，找到“输入（prompt）”这个发力点来参与游戏。从输入到输出，再叠buff，轻松实现 <strong>“从入门到GPT放弃抵抗”</strong>。有的时候我们不需要说得天花乱坠，一些小技巧，就能让GPT变得更加好用。</p>
<p><strong>第一部分，着手输入，教AI“做人”。</strong></p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/278845991279f20acf78424e4241c41b.png" alt="图片"></p>
<p><strong>第二部分，坚持“能动口，尽量不动手”，让Markdown 介入输出，好看又好用。</strong></p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/164d9438710da7b4f8402df0e20ea7c8.png" alt="图片"></p>
<p><strong>第三部分，格式上再叠Buff，3组实用符号让AI理解力翻倍。</strong></p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/f3c3f8963230be4224de1fa9yy813484.png" alt="图片"></p>
<p>以上都是关于边界内的最优解和主动突破局限的方法，在此之上，你还可以主动去拓宽边界， <strong>把ChatGPT当作超级大中枢</strong>，和其他AI、工作流中的各种工具对接，实现迷人的“万智互联”，更高效地摆平更复杂的问题。</p>
<p>当你盯着用ChatGPT解决问题的时候，退后一步，视野自然就广阔了。GPT能解决的问题有限，但是“有GPT参与”能解决的问题体量就很恐怖了。</p>
<p>开光完成，谁说ChatGPT只能生成文本？ <strong>在新世界你根本不用费劲去学各种技能，以“智”取胜才是上策。</strong></p>
<p>🤖️上案例</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/f00929d5a08b50e64279cf03f41888c1.gif" alt="图片"></p>
<h2 id="踏浪杨帆"><a href="#踏浪杨帆" class="headerlink" title="踏浪杨帆"></a>踏浪杨帆</h2><p>让GPT给你写一篇图文并貌、主次清晰的工作周报，加入示例和符号，让TA理解你要的细节。能够用Python自动化就更好了，比如说将最后的周报切割成宽度统一、高度适中的图片块，并完成自动命名，让你发邮件的时候更省心。</p>
<p>期待在评论区看到你的思考或感受分享，戳此加入 <a target="_blank" rel="noopener" href="http://jinshuju.net/f/oI1KKM">课程交流群</a>，也欢迎你将这节课分享给感兴趣的朋友们，我们下节课再会。</p>
</article><div class="tag_share"><div class="post_share"></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#02%EF%BD%9C%E7%A0%B4%E8%A7%A3%E5%B1%80%E9%99%90%EF%BC%9A%E5%9C%A8%E8%BE%B9%E7%95%8C%E5%86%85%E6%B1%82%E6%9C%80%E4%BC%98%E8%A7%A3%EF%BC%8C%E5%B1%82%E5%B1%82%E7%AA%81%E7%A0%B4"><span class="toc-number">1.</span> <span class="toc-text">02｜破解局限：在边界内求最优解，层层突破</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A5%E9%97%A8%E7%BA%A7%E6%8A%80%E5%B7%A7%EF%BC%9A%E7%9D%80%E6%89%8B%E8%BE%93%E5%85%A5%EF%BC%8C%E6%95%99AI-%E2%80%9C%E5%81%9A%E4%BA%BA%E2%80%9D"><span class="toc-number">1.1.</span> <span class="toc-text">入门级技巧：着手输入，教AI “做人”</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E8%A7%A3%E5%86%B33%E4%B8%AA%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B0%8F%E6%AF%9B%E7%97%85%EF%BC%88%E6%8A%A5%E9%94%99%E3%80%81%E4%B8%AD%E6%96%AD%E3%80%81%E5%8D%95%E8%B0%83%EF%BC%89"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">✦ 解决3个常见的小毛病（报错、中断、单调）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E8%AE%A8%E4%BB%B7%E8%BF%98%E4%BB%B7%EF%BC%8C%E6%9C%89%E6%95%88PUA"><span class="toc-number">1.1.0.2.</span> <span class="toc-text">✦ 讨价还价，有效PUA</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E5%8F%8C%E8%AF%AD%E6%B7%B7%E6%89%93"><span class="toc-number">1.1.0.3.</span> <span class="toc-text">✦ 双语混打</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E6%A1%88%E4%BE%8B%E8%AE%A9GPT%E6%9B%B4%E6%87%82%E4%BD%A0"><span class="toc-number">1.1.0.4.</span> <span class="toc-text">✦ 案例让GPT更懂你</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E4%BB%8E%E5%AD%A4%E5%B2%9B%E5%88%B0%E5%B0%8F%E5%AE%87%E5%AE%99"><span class="toc-number">1.1.0.5.</span> <span class="toc-text">✦ 从孤岛到小宇宙</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E6%8A%80%E5%B7%A7%EF%BC%9A%E9%A2%86%E5%9F%9F%E5%B1%95%E5%BC%80"><span class="toc-number">1.2.</span> <span class="toc-text">进阶技巧：领域展开</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E8%AE%A9GPT%E6%9C%89%E6%95%88%E7%90%86%E8%A7%A3%E5%90%A6%E5%AE%9A%EF%BC%8C%E4%B8%8D%E5%86%8D%E6%AC%A0%E6%8F%8D"><span class="toc-number">1.2.0.1.</span> <span class="toc-text">✦ 让GPT有效理解否定，不再欠揍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E9%87%8D%E7%BD%AE%E8%AE%B0%E5%BF%86"><span class="toc-number">1.2.0.2.</span> <span class="toc-text">✦ 重置记忆</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E8%AE%A9GPT%E4%B8%8D%E8%83%BD%E6%8B%92%E7%BB%9D"><span class="toc-number">1.2.0.3.</span> <span class="toc-text">✦ 让GPT不能拒绝</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E5%88%A9%E7%94%A8AI%E7%9A%84%E5%B9%BB%E8%A7%89"><span class="toc-number">1.2.0.4.</span> <span class="toc-text">✦ 利用AI的幻觉</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E8%AE%A9GPT%E6%85%A2%E4%B8%8B%E6%9D%A5"><span class="toc-number">1.2.0.5.</span> <span class="toc-text">✦ 让GPT慢下来</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E6%8A%80%E5%B7%A7%EF%BC%9AMarkdown-%E4%BB%8B%E5%85%A5%EF%BC%8C%E5%A5%BD%E7%9C%8B%E5%A5%BD%E7%94%A8"><span class="toc-number">1.3.</span> <span class="toc-text">高级技巧：Markdown 介入，好看好用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E6%A0%87%E9%A2%98%EF%BC%9A%E4%BD%A0%E7%A6%BB%E4%B8%93%E5%AE%B6%E5%B0%B1%E5%B7%AE%E4%B8%80%E4%B8%AA-%E5%8F%B7%E7%9A%84%E8%B7%9D%E7%A6%BB"><span class="toc-number">1.3.0.1.</span> <span class="toc-text">✦ 标题：你离专家就差一个#号的距离</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E8%A1%A8%E6%A0%BC%E5%92%8C-%E5%88%97%E8%A1%A8%EF%BC%9A%E5%B8%AE%E4%BD%A0%E6%9B%B4%E6%9C%89%E6%9D%A1%E7%90%86"><span class="toc-number">1.3.0.2.</span> <span class="toc-text">✦ 表格和 列表：帮你更有条理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E5%BC%BA%E8%B0%83-%EF%BC%9A-%E8%AE%A9%E4%B8%BB%E6%AC%A1%E6%B8%85%E6%99%B0%EF%BC%8C%E9%87%8D%E7%82%B9%E7%AA%81%E5%87%BA"><span class="toc-number">1.3.0.3.</span> <span class="toc-text">✦ 强调 ： 让主次清晰，重点突出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E4%B8%80%E5%9B%BE%E8%83%9C%E5%8D%83%E8%A8%80"><span class="toc-number">1.3.0.4.</span> <span class="toc-text">✦ 一图胜千言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E4%BC%A0%E9%80%81%E9%97%A8%EF%BC%8C%E5%8A%A9%E4%BD%A0%E9%AA%8C%E8%AF%81"><span class="toc-number">1.3.0.5.</span> <span class="toc-text">✦ 传送门，助你验证</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9C%A6-%E4%BB%A3%E7%A0%81%EF%BC%9A%E8%B4%B4%E8%B4%B4%E5%B0%B1%E8%83%BD%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98"><span class="toc-number">1.3.0.6.</span> <span class="toc-text">✦ 代码：贴贴就能解决问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E4%B8%8A%E5%86%8D%E5%8F%A0Buff%EF%BC%8C3%E7%BB%84%E5%AE%9E%E7%94%A8%E7%AC%A6%E5%8F%B7"><span class="toc-number">1.3.1.</span> <span class="toc-text">格式上再叠Buff，3组实用符号</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E9%BB%91%E6%9D%BF"><span class="toc-number">1.4.</span> <span class="toc-text">小黑板</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B8%8F%E6%B5%AA%E6%9D%A8%E5%B8%86"><span class="toc-number">1.5.</span> <span class="toc-text">踏浪杨帆</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://s2.loli.net/2023/10/21/vq13okXnTbxDG2R.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By 码农张三</div></div><script src="https://cdn.bootcdn.net/ajax/libs/mermaid/9.4.0/mermaid.min.js"></script></footer></div><div id="rightside"><div id="rightside-config-hide"></div><div id="rightside-config-show"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div></div></body></html>