<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>30 | 四线复盘法：怎么避免成为背锅侠？ | geekbang</title><meta name="author" content="码农张三"><meta name="copyright" content="码农张三"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="30 | 四线复盘法：怎么避免成为背锅侠？你好，我是华仔。 在事后总结阶段，正常情况下我们主要是做 收获总结 和 成果汇报 即可，但是如果发生了明显的问题，就需要做 问题复盘。 复盘是一个围棋术语，它指的是对局结束后回顾记录，检查招法的优劣和得失关键，并且根据分析提出更好的招法，提升以后的对局能力。后来，这个思路被引入到了管理工作中。 问题复盘技术人员主要参与的是线上问题复盘，比如业务或者系统出现">
<meta property="og:type" content="article">
<meta property="og:title" content="30 | 四线复盘法：怎么避免成为背锅侠？">
<meta property="og:url" content="https://zhuansun.github.io/geekbang/posts/945776909.html">
<meta property="og:site_name" content="geekbang">
<meta property="og:description" content="30 | 四线复盘法：怎么避免成为背锅侠？你好，我是华仔。 在事后总结阶段，正常情况下我们主要是做 收获总结 和 成果汇报 即可，但是如果发生了明显的问题，就需要做 问题复盘。 复盘是一个围棋术语，它指的是对局结束后回顾记录，检查招法的优劣和得失关键，并且根据分析提出更好的招法，提升以后的对局能力。后来，这个思路被引入到了管理工作中。 问题复盘技术人员主要参与的是线上问题复盘，比如业务或者系统出现">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/10/21/vq13okXnTbxDG2R.jpg">
<meta property="article:published_time" content="2024-01-09T11:54:25.000Z">
<meta property="article:modified_time" content="2024-03-21T11:14:54.033Z">
<meta property="article:author" content="码农张三">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/10/21/vq13okXnTbxDG2R.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zhuansun.github.io/geekbang/posts/945776909"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '30 | 四线复盘法：怎么避免成为背锅侠？',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-03-21 11:14:54'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="geekbang" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://pic.imgdb.cn/item/653470a0c458853aef5813f1.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">1342</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">23</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2023/10/21/vq13okXnTbxDG2R.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">geekbang</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">30 | 四线复盘法：怎么避免成为背锅侠？</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2024-01-09T11:54:25.000Z" title="发表于 2024-01-09 11:54:25">2024-01-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%A4%A7%E5%8E%82%E6%99%8B%E5%8D%87%E6%8C%87%E5%8D%97/">大厂晋升指南</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="30-四线复盘法：怎么避免成为背锅侠？"><a href="#30-四线复盘法：怎么避免成为背锅侠？" class="headerlink" title="30 | 四线复盘法：怎么避免成为背锅侠？"></a>30 | 四线复盘法：怎么避免成为背锅侠？</h1><p>你好，我是华仔。</p>
<p>在事后总结阶段，正常情况下我们主要是做 <strong>收获总结</strong> 和 <strong>成果汇报</strong> 即可，但是如果发生了明显的问题，就需要做 <strong>问题复盘</strong>。</p>
<p>复盘是一个围棋术语，它指的是对局结束后回顾记录，检查招法的优劣和得失关键，并且根据分析提出更好的招法，提升以后的对局能力。后来，这个思路被引入到了管理工作中。</p>
<h2 id="问题复盘"><a href="#问题复盘" class="headerlink" title="问题复盘"></a>问题复盘</h2><p>技术人员主要参与的是线上问题复盘，比如业务或者系统出现了线上问题，在问题解决之后往往就会组织复盘。</p>
<p>不管团队技术多么厉害，也不管公司多么有钱，都不能完全避免业务或者系统出现问题的可能，比如2015年5月27日支付宝发生了大规模宕机的事故，2018年10月22日GitHub发生了宕机24小时的事故等。</p>
<p>虽然无论做什么都不可能完全杜绝问题的发生，但这并不意味着我们只能坐以待毙。我们需要尽量降低问题发生的概率，减少问题导致的损失，因为就算事故不可避免，1年发生3次和10年发生1次，影响和意义也是完全不同的。</p>
<p>问题复盘的意义就在于找到问题的原因然后加以改进，避免同样的问题反复出现，降低问题的发生的概率和影响。</p>
<h2 id="四线复盘法"><a href="#四线复盘法" class="headerlink" title="四线复盘法"></a>四线复盘法</h2><p>但是，要做好问题复盘可不是一件容易的事。复盘会议上的各种明争暗斗，可能会让刚参加工作的“萌新”惊掉下巴，甚至让一些老员工也感到头疼。尤其是一些管理比较严的公司还会通过复盘来明确责任分配和处罚措施，复盘会议的激烈程度往往不亚于电视剧中的宫斗场景。</p>
<p>所以，怎么组织一场复盘，怎么分配责任和避免背锅，已经成了职场人的一项生存必备技能。</p>
<p>问题复盘的内容涵盖 <strong>事实、分析、定责和改进</strong> 4个部分，一次成功的问题复盘需要达成以下4个目标：</p>
<ol>
<li><strong>讲清楚事实</strong>：事实是复盘的基础，如果连事实都没有讲清楚就开始分析、定责和改进，无异于搭建空中楼阁，做得再漂亮也是没有意义的。</li>
<li><strong>全面且深入地分析</strong>：首先需要保证没有遗漏问题，其次需要深入分析问题根因，否则以后问题还是会以其他方式反复出现。</li>
<li><strong>得出让各方心服口服的定责结论</strong>：需要有明确的定责标准，避免拍脑袋定责，或者按照级别和关系来定责。</li>
<li><strong>制定可以落地的改进措施</strong>：避免提出一些虚头巴脑的措施，看起来高大上，实际上却不知道怎么落地，后续也无法跟踪。</li>
</ol>
<p>这一讲分享的 <strong>四线复盘法</strong>，就是通过时间线、问题链、责任链和改进线这4条不同的线索来展开复盘，从而实现事实、分析、定责和改进这4个部分的目标。</p>
<p>如果你是复盘负责人，四线复盘法可以让你不偏不倚、公平公正地组织复盘；如果你是复盘参与人，它可以让你避免背不必要的黑锅。当然，如果出现问题确实是你的责任，它也不会教你怎么逃避责任，而是会告诉你怎么思考和改进。</p>
<p>接下来，我会针对每条线索逐一讲解说明。</p>
<h2 id="第一条线：时间线"><a href="#第一条线：时间线" class="headerlink" title="第一条线：时间线"></a>第一条线：时间线</h2><p>为了讲清楚事实，我们要明确 <strong>时间线</strong>，也就是 <strong>问题发生的经过</strong>，包括问题发现、问题处理过程中采取的各种关键措施、问题恢复的时间和问题影响的结果等。</p>
<p>其中，时间信息非常关键，因为它能够反映出问题发现速度、各项措施执行时间和团队响应效率等指标。比如，运维重启30台机器花了1小时，通常情况下这种处理效率肯定是有问题的。</p>
<h2 id="第二条线：问题链"><a href="#第二条线：问题链" class="headerlink" title="第二条线：问题链"></a>第二条线：问题链</h2><p>为了全面且深入的分析，我们要明确 <strong>问题链</strong>，也就是 <strong>问题的传导路径</strong>。</p>
<p>通常情况下，一个问题往往不是单一原因导致的，而是多个原因“碰巧”组合在一起所导致的，所以分析整个问题的传导路径，才能全面地了解产生问题的过程。</p>
<p>同时，针对单个问题的分析也不能浅尝辄止，而应该采用第26讲的“5W根因分析法”深入分析，找到根本原因，这样才能为后续制定改进措施提供有效的指导。</p>
<p>问题链的路径逻辑有两类：业务流程和项目流程。</p>
<p><strong>业务流程</strong> 是指，端到端的业务处理的过程，分析的对象是各个关联的系统。</p>
<p><strong>项目流程</strong> 是指，端到端的项目开发的过程，分析的对象是项目各个阶段相关的人员，比如开发、测试、产品和运维等。</p>
<p>我们一般先采用业务流程的逻辑将问题定位到单个系统，然后再针对单个系统采用项目流程的方式将问题定位到具体的人或者流程中的某个步骤。</p>
<h2 id="第三条线：责任链"><a href="#第三条线：责任链" class="headerlink" title="第三条线：责任链"></a>第三条线：责任链</h2><p>为了得出让各方心服口服的定责结论，我们要明确 <strong>责任链</strong>，也就是问题责任人之间的关系。</p>
<p>我们需要结合时间线中问题影响的结果、公司的故障定级标准和问题链的分析，最终确定哪些团队或个人应该承担责任，分别承担多大的责任，接受什么样的处罚。</p>
<p>之所以叫责任链，是因为一个问题的发生往往是整个流程上多个环节相关的人处理有问题，才会导致最终问题的发生。比如开发人员引入bug，测试人员遗漏了测试，产品人员没有验收到，最终才会在上线后发现问题，这个环节中只要有一个环节把握住了，问题就不会发生。</p>
<p>定责是问题复盘中最棘手的部分，因为定责的结果会直接影响团队和个人的绩效，所以做到公平公正、让各方都心服口服是一项很大的挑战。</p>
<p>通常情况下，制定明确的定责标准有利于尽量减少争议，常见的标准包括以下4条：</p>
<ol>
<li><strong>违反公司规章&#x2F;制度&#x2F;流程的承担主责</strong>：比如公司规定必须要有灰度策略才能升级，某业务版本直接全量升级导致发生问题。</li>
<li><strong>出现重大纰漏的承担主责</strong>：比如测试时漏测了某个常见的业务场景，导致上线后发生问题，测试承担主责，产品承担主责（因为上线前验收阶段没有发现问题），开发反而不一定承担责任（看具体的公司和团队要求）。</li>
<li><strong>问题源头承担主责</strong>：比如A系统磁盘故障导致接口响应很慢且问题持续很长时间，从而进一步导致B系统对外响应也超时，这种情况下A系统应该承担主责，B系统承担次责。</li>
<li><strong>问题放大者承担主责</strong>：比如A系统磁盘故障导致接口响应很慢但只持续了几分钟，结果诱发了B系统的设计缺陷，导致B系统瘫痪超过1小时，这种情况下B系统应该承担主责。</li>
</ol>
<h2 id="第四条线：改进线"><a href="#第四条线：改进线" class="headerlink" title="第四条线：改进线"></a>第四条线：改进线</h2><p>为了制定可以落地的改进措施，我们要明确改进线，也就是问题的改进计划，包括具体措施、改进责任人和时间节点等。</p>
<p>（注：在这一讲中， <strong>问题责任人</strong> 是指为问题承担责任的人， <strong>改进责任人</strong> 是指负责落实改进措施的人，不一定是同一个。）</p>
<p>改进计划的思路来源于两个方面：时间线和问题链，通过时间线找到问题处理过程中不合理和可以优化的地方；通过问题链找到具体需要解决的问题。</p>
<p>具体措施可以是流程上的调整（增加或删除流程步骤），技术上的手段（增加功能、优化系统）和团队方面的措施（学习、培训、奖惩机制）等。</p>
<p>无论采取什么措施，都要求能够落地执行。比如“提升团队质量意识”这种比较虚的措施，应该细化为“团队参加公司的质量规范学习和考试”“推行Code Review”这种具体的措施。</p>
<p>接下来，我来带你拆解一个简单的线上问题复盘案例。</p>
<h2 id="案例：线上商城"><a href="#案例：线上商城" class="headerlink" title="案例：线上商城"></a>案例：线上商城</h2><p>假设我们做了一个简单的线上商城，架构如下图所示：</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202401/864113641db6yy72ccae6b3079ec4142.jpg"></p>
<p>某次线上故障导致用户下单后无法支付，我们按照四线复盘法来来复盘这个问题。</p>
<h3 id="1-时间线"><a href="#1-时间线" class="headerlink" title="1. 时间线"></a>1. 时间线</h3><p>首先，我们完整地回顾问题产生、处理和收尾的整个过程，梳理了时间线：</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202401/0d5f8ccba6582c9b9a7a2d4e15f2ab26.jpg"></p>
<h3 id="2-问题链"><a href="#2-问题链" class="headerlink" title="2. 问题链"></a>2. 问题链</h3><p>我们先按照业务流程来分析问题链，由于系统架构和这次问题都比较简单，所以问题链只涉及风控服务和支付服务：</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202401/03bdf8bdaea4aa34c38b6983368631bc.jpg"></p>
<p>针对风控服务的问题，我们再按照项目流程来分析问题链：</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202401/620a8fea9d3027730a3yy0898b832f65.jpg"></p>
<h3 id="3-责任链"><a href="#3-责任链" class="headerlink" title="3. 责任链"></a>3. 责任链</h3><p>根据时间线中的影响结果，这次问题导致的损失是10000元；根据公司故障定级标准，属于轻微级别，惩罚措施是贡献活动经费；结合问题链和定责标准，我们得到了最终的责任链：</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202401/1362eba268e637bfbf95aae0a2103910.jpg"></p>
<h3 id="4-改进线"><a href="#4-改进线" class="headerlink" title="4. 改进线"></a>4. 改进线</h3><p>我们分析了时间线中的步骤，针对两个可以改进的地方制定了改进措施：</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202401/8396ef8c1ca0d5e4945b268a741e8ffe.jpg"></p>
<p>然后，我们又分析了问题链中的问题，针对另外两个可以改进的地方制定了改进措施：</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202401/8ac26b22aa39b0674a581816a30d15a4.png"></p>
<p>以上就是用四线复盘法对这次问题做复盘的整个过程。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>现在，我们回顾一下重点内容。</p>
<ol>
<li><p>一次成功的问题复盘需要达成4个目标：讲清楚事实，全面且深入地分析，得出让各方心服口服的定责结论，以及制定可以落地的改进措施。</p>
</li>
<li><p>四线复盘法是通过时间线、问题链、责任链和改进线这4条不同的线索来展开复盘。它可以让你不偏不倚、公平公正地组织复盘，也可以让你避免背不必要的黑锅。</p>
</li>
<li><p>时间线就是问题发生的经过，问题链就是问题的传导路径，责任链就是问题责任人之间的关系，改进线就是问题的改进计划。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202401/902c1097fcd425362551584d8f6730de.jpg"></p>
</li>
</ol>
<h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><p>这就是今天的全部内容，留一道课后思考题给你吧。你或者你的团队承担过线上问题的责任吗？如果有，主要原因是什么？你觉得处理结果是否公平，复盘过程有没有需要改进的地方？</p>
<p>欢迎你把答案写到留言区，和我一起讨论。相信经过深度思考的回答，也会让你对知识的理解更加深刻。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202401/af90ee9acaea177d9d3acbc278921876.jpeg"></p>
</article><div class="tag_share"><div class="post_share"></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#30-%E5%9B%9B%E7%BA%BF%E5%A4%8D%E7%9B%98%E6%B3%95%EF%BC%9A%E6%80%8E%E4%B9%88%E9%81%BF%E5%85%8D%E6%88%90%E4%B8%BA%E8%83%8C%E9%94%85%E4%BE%A0%EF%BC%9F"><span class="toc-number">1.</span> <span class="toc-text">30 | 四线复盘法：怎么避免成为背锅侠？</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E5%A4%8D%E7%9B%98"><span class="toc-number">1.1.</span> <span class="toc-text">问题复盘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E7%BA%BF%E5%A4%8D%E7%9B%98%E6%B3%95"><span class="toc-number">1.2.</span> <span class="toc-text">四线复盘法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%9D%A1%E7%BA%BF%EF%BC%9A%E6%97%B6%E9%97%B4%E7%BA%BF"><span class="toc-number">1.3.</span> <span class="toc-text">第一条线：时间线</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%9D%A1%E7%BA%BF%EF%BC%9A%E9%97%AE%E9%A2%98%E9%93%BE"><span class="toc-number">1.4.</span> <span class="toc-text">第二条线：问题链</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%9D%A1%E7%BA%BF%EF%BC%9A%E8%B4%A3%E4%BB%BB%E9%93%BE"><span class="toc-number">1.5.</span> <span class="toc-text">第三条线：责任链</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E6%9D%A1%E7%BA%BF%EF%BC%9A%E6%94%B9%E8%BF%9B%E7%BA%BF"><span class="toc-number">1.6.</span> <span class="toc-text">第四条线：改进线</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E7%BA%BF%E4%B8%8A%E5%95%86%E5%9F%8E"><span class="toc-number">1.7.</span> <span class="toc-text">案例：线上商城</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%97%B6%E9%97%B4%E7%BA%BF"><span class="toc-number">1.7.1.</span> <span class="toc-text">1. 时间线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%97%AE%E9%A2%98%E9%93%BE"><span class="toc-number">1.7.2.</span> <span class="toc-text">2. 问题链</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%B4%A3%E4%BB%BB%E9%93%BE"><span class="toc-number">1.7.3.</span> <span class="toc-text">3. 责任链</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%94%B9%E8%BF%9B%E7%BA%BF"><span class="toc-number">1.7.4.</span> <span class="toc-text">4. 改进线</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-number">1.8.</span> <span class="toc-text">小结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%80%83%E9%A2%98"><span class="toc-number">1.9.</span> <span class="toc-text">思考题</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://s2.loli.net/2023/10/21/vq13okXnTbxDG2R.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By 码农张三</div></div><script src="https://cdn.bootcdn.net/ajax/libs/mermaid/9.4.0/mermaid.min.js"></script></footer></div><div id="rightside"><div id="rightside-config-hide"></div><div id="rightside-config-show"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div></div></body></html>