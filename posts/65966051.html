<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>结束语｜送你一张通往未来“通用人工智能”时代的船票 | geekbang</title><meta name="author" content="码农张三"><meta name="copyright" content="码农张三"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="结束语｜送你一张通往未来“通用人工智能”时代的船票你好，我是徐文浩。 课程到这里，终于要结束了。在去年年底和极客时间定下要写这门课程的时候，我并没有想到AI会在过去几个月里掀起怎样一阵滔天巨浪。忽然之间，似乎AIGC和大语言模型变成了一个人人都可以参与讨论的话题。连我年近七十的父母昨天晚上也来问我怎么才能用上ChatGPT，让我一时都有些恍惚。上一次，人人都关心的技术产品，大概还是需要排队才能买到">
<meta property="og:type" content="article">
<meta property="og:title" content="结束语｜送你一张通往未来“通用人工智能”时代的船票">
<meta property="og:url" content="https://zhuansun.github.io/geekbang/posts/65966051.html">
<meta property="og:site_name" content="geekbang">
<meta property="og:description" content="结束语｜送你一张通往未来“通用人工智能”时代的船票你好，我是徐文浩。 课程到这里，终于要结束了。在去年年底和极客时间定下要写这门课程的时候，我并没有想到AI会在过去几个月里掀起怎样一阵滔天巨浪。忽然之间，似乎AIGC和大语言模型变成了一个人人都可以参与讨论的话题。连我年近七十的父母昨天晚上也来问我怎么才能用上ChatGPT，让我一时都有些恍惚。上一次，人人都关心的技术产品，大概还是需要排队才能买到">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/10/21/vq13okXnTbxDG2R.jpg">
<meta property="article:published_time" content="2023-10-20T09:48:40.000Z">
<meta property="article:modified_time" content="2024-02-27T07:30:57.487Z">
<meta property="article:author" content="码农张三">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/10/21/vq13okXnTbxDG2R.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zhuansun.github.io/geekbang/posts/65966051"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '结束语｜送你一张通往未来“通用人工智能”时代的船票',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-02-27 07:30:57'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="geekbang" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://pic.imgdb.cn/item/653470a0c458853aef5813f1.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">1098</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.loli.net/2023/10/21/vq13okXnTbxDG2R.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">geekbang</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">结束语｜送你一张通往未来“通用人工智能”时代的船票</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2023-10-20T09:48:40.000Z" title="发表于 2023-10-20 09:48:40">2023-10-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/AI%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%B9%8B%E7%BE%8E/">AI大模型之美</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="结束语｜送你一张通往未来“通用人工智能”时代的船票"><a href="#结束语｜送你一张通往未来“通用人工智能”时代的船票" class="headerlink" title="结束语｜送你一张通往未来“通用人工智能”时代的船票"></a>结束语｜送你一张通往未来“通用人工智能”时代的船票</h1><p>你好，我是徐文浩。</p>
<p>课程到这里，终于要结束了。在去年年底和极客时间定下要写这门课程的时候，我并没有想到AI会在过去几个月里掀起怎样一阵滔天巨浪。忽然之间，似乎AIGC和大语言模型变成了一个人人都可以参与讨论的话题。连我年近七十的父母昨天晚上也来问我怎么才能用上ChatGPT，让我一时都有些恍惚。上一次，人人都关心的技术产品，大概还是需要排队才能买到的iPhone。</p>
<h2 id="虽然谈不上完美，但是它真的有用"><a href="#虽然谈不上完美，但是它真的有用" class="headerlink" title="虽然谈不上完美，但是它真的有用"></a>虽然谈不上完美，但是它真的有用</h2><p>尽管这不是我第一次在极客时间上写课程了，而且这一次的内容也比前两次要短一些。但是写一个30讲、十几万字课程的过程还是非常煎熬的，特别是这一次有了更多和之前不一样的挑战。</p>
<p>因为AI大模型领域每天都在发生新的变化，在整个课程写作的过程中，突发情况层出不穷。比如，因为开源项目的版本升级很频繁，甚至很多升级是不向前兼容的，导致我很多提前写完的稿子不得不二次回炉返工。我早早就写完了第11讲，里面介绍了如何使用llama-index来分片索引文章，并且让ChatGPT能够根据上下文来更准确地回答问题。但是，就在实际连载要发表的前几天，llama-index就进行了大规模地大升级，所有的API接口都发生了变化。所以那几天，我不得不停下来重新修订了一遍对应的内容和代码，避免上线的时候你没法运行成功。</p>
<p>另外，准备演示代码和对应的数据花费的时间也远比预想的要多得多。这个课程几乎每一节课，都有对应的一系列示例代码，其中很多代码都需要拿数据来做演示。为了方便你理解，我还是希望尽可能找到中文的数据案例来做演示。但是因为考虑到数据安全的因素，也没法拿真实商业场景下的数据进行演示。所以不得不想出各种办法，寻找网络上的公开数据、已经过了版权时效的数据，乃至让ChatGPT为我们构造数据。最终，也还是避免不了在部分例子里面用英文数据来演示。</p>
<p>更让人有些遗憾的是，随着课程的更新，有很多有趣的项目也慢慢露出了水面，但是时间安排上已经来不及对这些内容进行覆盖了。特别是在大语言模型领域，有很多有趣的项目在过去一两个月特别火爆。比如，有人开发了 <a target="_blank" rel="noopener" href="https://github.com/Significant-Gravitas/Auto-GPT">AutoGPT</a> 和 <a target="_blank" rel="noopener" href="https://github.com/yoheinakajima/babyagi">BabyAGI</a> 这样的自主智能体（Autonomous Agent）的项目。只要你设定一个目标，提供一系列的工具给AI，它就能自动自发地制定计划、执行计划，朝着目标迈进。这也让我们真的感觉到摸到了通用人工智能的边。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/9a690892b94fc8f0e48b36a6801a8872.png" alt="图片"></p>
<p>之后，斯坦福大学也发表了Generative Agents的论文，让我们看到了一个像素风的“西部世界”。让AI能够在一个虚拟世界里互相交朋友、开派对。但是当这些项目出现的时候，我们的课程也已经进行到了语音和视觉的部分，没时间再回头重新设计前面大语言模型的应用部分了。前两天，通过So-Vits-SVC算法实现的AI孙燕姿，更是在国内大火了一把，而这时我们的课程内容其实基本已经完结了。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/f910b580bb6684526b477356f7f9bd0b.png" alt="图片"></p>
<p>所以说，我们这个课程里有太多有趣而且值得一说的东西没有覆盖到了。不过，和ChatGPT一样，虽然并不完美，但是我还是相信它非常有用。在课程的更新过程中，其实就有不少朋友找过来询问各种场景下是否可以通过AI来解决问题。而很多时候，我也只需要把课程的一些章节转发给他，就解决了大部分问题。</p>
<p>就像我前面说的，此时此刻的AI并不能解决所有的问题，但是已经在很多领域创造了极大的生产力了。这个课程也只是能够带你入门AI应用开发，但是这些知识也已经有足够的信息可以帮助你开发出有价值的应用了。</p>
<h2 id="一切才刚刚开始，但是AI的时代之船已经起航"><a href="#一切才刚刚开始，但是AI的时代之船已经起航" class="headerlink" title="一切才刚刚开始，但是AI的时代之船已经起航"></a>一切才刚刚开始，但是AI的时代之船已经起航</h2><p>如果回头去看一看日历，你就会发现其实ChatGPT发布不过才半年，而让所有人大吃一惊的GPT-4才不到两个月。包括视觉类型的Stable Diffusion模型，其实也才诞生不到9个月。但是在喧嚣的互联网世界里，总会给我们带来一种幻觉，就是这一轮的AI浪潮已经发生很长时间了。</p>
<p>事实上，AI对于我们生活真正的渗透才刚刚开始。大部分普通人，现在也还只是简单用了一下ChatGPT类的应用，或者只是在各种短视频平台里看到了各种AI画画和基于AI画画生成的视频而已。</p>
<p>但其实不知不觉间， <strong>AI的时代之船已经在水面之下默默起航了</strong>。我在周围已经看到有不少人把这一轮的AI技术实际运用在自己的产品乃至于工作中了。有些是使用大语言模型和多模态的视觉基础模型，去优化现有业务的搜索、商品推荐和客服。有些则开发了新的生产力工具，让业务团队可以通过自然语言描述需求，由AI自动转化成SQL语句生成报表。还有更多的人，则是利用ChatGPT帮助自己组织语言、撰写代码、学习知识。</p>
<p>在国内，目前国产大语言模型仍然在努力追赶OpenAI，所以应用层面尚未爆发。在海外，已经有越来越多的AI应用迎来了爆发式的增长。大量原本因为成本结构难以满足的需求，通过当前AI强大的能力已经可以满足了。比如，就有人做了一个应用，叫做DoNotPay。针对高昂的律师费用，提供了“AI律师”。让AI律师给你撰写各类法律文书，比如申诉停车罚单、进行保险索赔等等。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/597a06cca7d675c10852be0260e0a60f.png" alt="图片"></p>
<p>如果你去一些海外的AI应用聚合网站，已经能够看到成千上万的AI应用，并且每天都有新的应用冒出来。无论是文本、音频，还是视频，电商、搜索，还是社交媒体，方方面面都覆盖到了。</p>
<p><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/f1c06b156969b6a6c40a92b2ed964bfa.png" alt="图片"></p>
<p>而且，不光是应用层，开源世界里的进展也是一日千里。在Meta开源出了自己的大语言模型LLaMA之后，越来越多的模型直接被开源了出来。并且从一开始的语言模型和视觉生成模型，扩展到更多的领域。比如前两天，OpenAI就开源了自己的三维建模的生成式模型 Shap-E。</p>
<p>这里要特别说一下Meta，虽然Lecun老师一边嘴上说着ChatGPT没什么大不了的，一边自家的研究团队又不断地放出重磅炸弹。从LLaMA到Segment Anything，从Segment Anything到DINOv2，再到昨天放出的ImageBind，可谓是好好地展示了一把技术实力，而且所有这些项目全部都是开源的。而整个开源社区也借着这股东风，实现了Vicuna等一系列表现不错的“开源ChatGPT”。</p>
<p>不知道是谁说的，“我们总是高估一年的变化，低估十年的变化”。不过这一次，我周围的技术人，没有谁低估AI带来的改变。 <strong>我不知道这是否是工业革命的开始，但对我来说这是过去20年最让人兴奋的变化，远远超出了第一次看到iPhone的时候。</strong> 而且，这一切才刚刚开始，前面还有太多太多的可能性正在等着我们。无论是医疗、法律、编程这样需要生产力的领域，还是视频、游戏这些给人带来欢乐的领域，都有着巨大的使用新一代AI技术的空间。但同样地，想要把一小段Demo代码变成一个有商业价值的应用，也有巨大的技术挑战需要我们去面对。</p>
<h2 id="面对AI，少些空想，多去动手"><a href="#面对AI，少些空想，多去动手" class="headerlink" title="面对AI，少些空想，多去动手"></a>面对AI，少些空想，多去动手</h2><p>那如何以更好的姿态去面对未来的这些AI技术挑战呢？这就需要我们尽早地通过代码，把从课程中学到的知识落地到具体的实践中，高效地把AI使用起来。</p>
<p>因为这个课程不是一个理论课程，只是教你一些大语言模型里用到的数学公式，也不是一个ChatGPT的使用手册，只告诉你几条可以使用的提示语。 <strong>这是一门针对工程师的AI入门课程，让你可以立刻快速动手把AI用起来，自己动手创造一些东西，才是一个工程师天生的宿命</strong>。而AI在这一次，恰恰又极大地放大了工程师的能力。</p>
<p>可能原本你只会写后端代码，没办法独立开发一个完整的应用。但是现在，你可以通过ChatGPT帮助你完成前端应用的开发。也可能，原先你想要写一些能够利用AI算法的应用，但是之前可能并不熟悉机器学习。那么现在，你完全可以利用ChatGPT的“智能”来完成这样的工作，而不需要单独训练一个机器学习模型。</p>
<p>事实上，在 <a target="_blank" rel="noopener" href="https://time.geekbang.org/column/article/646801">第 12 讲</a> 里，我为你演示了一遍通过ChatGPT开发新应用的过程。即使你完全不懂某一门编程语言，也完全能够在ChatGPT的帮助下完成一个小应用的开发。</p>
<p>当然， <strong>这门课程不是你的终点，而是你的起点。</strong> 无论是你想要做应用开发，还是想要深入研究大模型，做出能媲美乃至超越GPT-4的大模型。开源世界和互联网上都有无穷无尽的高质量的教程、资料可以供你参考，有非常多的东西，值得你去学习。</p>
<p>不过，作为一个工程师或者产品经理，千万不要揣着袖子，和大家空谈“AI对世界带来的变化”。或者只是满足于不断学习新的AI知识，最后知道得太多，行动得太少。而是应该尽快卷起袖子，动手做出有价值的产品，让这个世界变得更好。</p>
<p>最后，希望你把这门课程当作你通往“通用人工智能”时代的一张船票，借助它去开启你的航程，同时我也希望和你一起去经历未来十年AI给世界带来的惊涛骇浪。</p>
<p>课程结束的今天，希望你可以花几分钟填一下 <a target="_blank" rel="noopener" href="https://jinshuju.net/f/wLFRC2">结课问卷</a>，非常期待听到你的声音。</p>
<p><a target="_blank" rel="noopener" href="https://jinshuju.net/f/wLFRC2"><img src="https://note-1252548816.cos.ap-nanjing.myqcloud.com/uPic/202312/75b97b5e9d37ce6eb07350ca5d39a4ec.jpg" alt="图片"></a></p>
</article><div class="tag_share"><div class="post_share"></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%93%E6%9D%9F%E8%AF%AD%EF%BD%9C%E9%80%81%E4%BD%A0%E4%B8%80%E5%BC%A0%E9%80%9A%E5%BE%80%E6%9C%AA%E6%9D%A5%E2%80%9C%E9%80%9A%E7%94%A8%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E2%80%9D%E6%97%B6%E4%BB%A3%E7%9A%84%E8%88%B9%E7%A5%A8"><span class="toc-number">1.</span> <span class="toc-text">结束语｜送你一张通往未来“通用人工智能”时代的船票</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%BD%E7%84%B6%E8%B0%88%E4%B8%8D%E4%B8%8A%E5%AE%8C%E7%BE%8E%EF%BC%8C%E4%BD%86%E6%98%AF%E5%AE%83%E7%9C%9F%E7%9A%84%E6%9C%89%E7%94%A8"><span class="toc-number">1.1.</span> <span class="toc-text">虽然谈不上完美，但是它真的有用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E5%88%87%E6%89%8D%E5%88%9A%E5%88%9A%E5%BC%80%E5%A7%8B%EF%BC%8C%E4%BD%86%E6%98%AFAI%E7%9A%84%E6%97%B6%E4%BB%A3%E4%B9%8B%E8%88%B9%E5%B7%B2%E7%BB%8F%E8%B5%B7%E8%88%AA"><span class="toc-number">1.2.</span> <span class="toc-text">一切才刚刚开始，但是AI的时代之船已经起航</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%AF%B9AI%EF%BC%8C%E5%B0%91%E4%BA%9B%E7%A9%BA%E6%83%B3%EF%BC%8C%E5%A4%9A%E5%8E%BB%E5%8A%A8%E6%89%8B"><span class="toc-number">1.3.</span> <span class="toc-text">面对AI，少些空想，多去动手</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://s2.loli.net/2023/10/21/vq13okXnTbxDG2R.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By 码农张三</div></div><script src="https://cdn.bootcdn.net/ajax/libs/mermaid/9.4.0/mermaid.min.js"></script></footer></div><div id="rightside"><div id="rightside-config-hide"></div><div id="rightside-config-show"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div></div></body></html>